import{a as c,o as e,w as k}from"./chunk-QMGIS6GS-DCKQtHAW.js";import{B as o,D as h,I as x,T as m,H as w,A as j}from"./Table-C3k09DPA.js";import{ah as f,ac as g,a9 as W}from"./Link-CZGB_uiB.js";import"./index-DPKgvXHX.js";function C(){const[s,{}]=f(),[n,a]=c.useState(!1),[r,l]=c.useState(""),d=async()=>{try{await s({name:r}).unwrap()}catch(t){console.error("Failed to add new workspace:",t)}},i=async()=>{await d(),a(!1)},p=async()=>{a(!1)},u=async()=>{a(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(o,{onClick:u,children:"Add Workspace"}),e.jsx(h,{open:n,setOpen:a,title:"Add Workspace",renderActions:()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{onClick:i,children:"Save"}),e.jsx(o,{onClick:p,children:"Close"})]}),children:e.jsx(x,{autoFocus:!0,placeholder:"Enter workspace name",value:r,onInput:t=>l(t.target.value)})})]})}function y({workspaces:s}){const n=g();return s.length==0?e.jsx(e.Fragment,{children:"Get started by creating a workspace"}):e.jsx(m,{data:s,fields:["workspace"],getId:a=>a.id,renderHeader:a=>{switch(a){case"workspace":return"Workspace";default:return""}},rowHref:a=>n(a),renderCell:(a,r)=>{switch(r){case"workspace":return a.name;default:return a[r]}}})}function A(){const{data:s=[]}=W();return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:"Workspaces"}),e.jsx(j,{children:e.jsx(C,{})}),e.jsx(y,{workspaces:s})]})}const H=k(function(){return e.jsx(A,{})});export{H as default};
