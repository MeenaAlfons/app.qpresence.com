import{a as u,p as N,o as t,q as U,w as Q,s as W,M as A,L as F,S as G,t as V,v as _,O as Y,x as q}from"./chunk-QMGIS6GS-D-w4GL0C.js";import{r as J,u as K,a as X,g as Z,b as ee,c as te,d as oe,s as P,e as ne,f as g,h as se,B as re,m as M,i as C,j as L,C as ae,T as ie,k as ce,l as x,n as le,o as de,p as ue,q as I,L as pe,t as fe,P as he}from"./apiSlice-DJOI_fGg.js";import{c as y,L as ge,W as me,H as xe}from"./icons-B1YvrFoj.js";import{I as b}from"./IconLink--Oimp-xC.js";function ye(e){const{theme:o,name:n,props:s}=e;return!o||!o.components||!o.components[n]||!o.components[n].defaultProps?s:J(o.components[n].defaultProps,s)}function ve(e,o,n,s,a){const[r,i]=u.useState(()=>a&&n?n(e).matches:s?s(e).matches:o);return X(()=>{if(!n)return;const c=n(e),l=()=>{i(c.matches)};return l(),c.addEventListener("change",l),()=>{c.removeEventListener("change",l)}},[e,n]),r}const je={...N},T=je.useSyncExternalStore;function Ie(e,o,n,s,a){const r=u.useCallback(()=>o,[o]),i=u.useMemo(()=>{if(a&&n)return()=>n(e).matches;if(s!==null){const{matches:p}=s(e);return()=>p}return r},[r,e,s,a,n]),[c,l]=u.useMemo(()=>{if(n===null)return[r,()=>()=>{}];const p=n(e);return[()=>p.matches,d=>(p.addEventListener("change",d),()=>{p.removeEventListener("change",d)})]},[r,n,e]);return T(l,c,i)}function $(e={}){const{themeId:o}=e;return function(s,a={}){let r=K();r&&o&&(r=r[o]||r);const i=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:l=i?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:p=!1}=ye({name:"MuiUseMediaQuery",props:a,theme:r});let d=typeof s=="function"?s(r):s;return d=d.replace(/^@media( ?)/m,""),d.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(T!==void 0?Ie:ve)(d,c,l,m,p)}}$();const be=y(t.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Se=y(t.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"})),we=y(t.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),ze=y(t.jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"})),Me=y(t.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}));function Ce(e){return ee("MuiIconButton",e)}const B=Z("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Le=e=>{const{classes:o,disabled:n,color:s,edge:a,size:r,loading:i}=e,c={root:["root",i&&"loading",n&&"disabled",s!=="default"&&`color${g(s)}`,a&&`edge${g(a)}`,`size${g(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return se(c,Ce,o)},Be=P(re,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.loading&&o.loading,n.color!=="default"&&o[`color${g(n.color)}`],n.edge&&o[`edge${g(n.edge)}`],o[`size${g(n.size)}`]]}})(M(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:o=>!o.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:C(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),M(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(L()).map(([o])=>({props:{color:o},style:{color:(e.vars||e).palette[o].main}})),...Object.entries(e.palette).filter(L()).map(([o])=>({props:{color:o},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:C((e.vars||e).palette[o].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${B.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${B.loading}`]:{color:"transparent"}}))),ke=P("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),H=u.forwardRef(function(o,n){const s=te({props:o,name:"MuiIconButton"}),{edge:a=!1,children:r,className:i,color:c="default",disabled:l=!1,disableFocusRipple:m=!1,size:p="medium",id:d,loading:f=null,loadingIndicator:S,...D}=s,w=oe(d),z=S??t.jsx(ae,{"aria-labelledby":w,color:"inherit",size:16}),v={...s,edge:a,color:c,disabled:l,disableFocusRipple:m,loading:f,loadingIndicator:z,size:p},j=Le(v);return t.jsxs(Be,{id:f?w:d,className:ne(j.root,i),centerRipple:!0,focusRipple:!m,disabled:l||f,ref:n,...D,ownerState:v,children:[typeof f=="boolean"&&t.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:t.jsx(ke,{className:j.loadingIndicator,ownerState:v,children:f&&z})}),r]})}),Re=$({themeId:ie}),k={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},button:{width:"fit-content"}};function Ee({currentHref:e,children:o}){const[n,s]=u.useState(!1);return u.useEffect(()=>{(async()=>{const r=await fetch("https://api.qr-attendance.do/me",{credentials:"include"});r.status==200&&s(!0),await r.text()})()},[]),n?t.jsx(t.Fragment,{children:o}):t.jsxs("div",{style:k.container,children:[t.jsx("h2",{children:"You need to login"}),t.jsx(ce,{variant:"outlined",startIcon:t.jsx(we,{}),href:"https://api.qr-attendance.do/auth/google?redirect="+encodeURIComponent(e),style:k.button,children:"Signin with Google"})]})}function Pe(){const e=x(),{themeName:o,setThemeName:n,themeNames:s}=le(),a=s.findIndex(l=>l==o),r=a==s.length-1?0:a+1,i=s[r],c=()=>{n(i),document.documentElement.setAttribute("prefers-color-scheme",i)};return t.jsx(H,{onClick:c,style:{width:"40px",height:"40px",padding:"0"},children:i==="dark"?t.jsx(Se,{fontSize:"small",style:{color:e.colors.foreground}}):t.jsx(ze,{fontSize:"small",style:{color:e.colors.foreground}})})}function Te(){return t.jsx(b,{title:"Logout",href:de(),Icon:ge})}const R={float:{position:"absolute",height:"100hv",transition:"translate 1s",zIndex:1e3},closed:{translate:"-100%"}};function $e({children:e,style:o}){const n=x(),[s,a]=u.useState(!1),r=()=>{a(!s)};return t.jsxs(t.Fragment,{children:[t.jsx(H,{onClick:r,style:{...o},children:s?t.jsx(be,{fontSize:"small",style:{color:n.colors.foreground}}):t.jsx(Me,{fontSize:"small",style:{color:n.colors.foreground}})}),t.jsx("div",{style:{...R.float,...s?{}:R.closed,...o},children:e})]})}const O=()=>!Re("(min-width:600px)"),h={container:{isolation:"isolate",minHeight:"100vh",display:"flex",flexDirection:"row",gap:0},mainContainer:{width:"100%",display:"flex",flexDirection:"column",gap:"10px",justifyContent:"space-between",padding:"10px",flexGrow:1},nav:{padding:"10px",display:"flex",flexDirection:"column",gap:"10px",height:"100vh"},navSeparator:{flexGrow:1},main:{display:"flex",flexDirection:"column"},footer:{fontSize:"12px"}};function He({children:e,topNavChildren:o,bottomNavChildren:n}){const s=x(),a=O();return t.jsxs("div",{style:{...h.container,flexDirection:a?"column":"row"},children:[t.jsx(E,{topNavChildren:o,bottomNavChildren:n,style:a?{display:"none"}:{}}),t.jsx($e,{style:a?{}:{display:"none"},children:t.jsx(E,{topNavChildren:o,bottomNavChildren:n})}),t.jsxs("div",{style:h.mainContainer,children:[t.jsx("main",{style:h.main,children:e}),t.jsx("footer",{style:{...h.footer,color:s.colors.hint},children:"Built with ♥︎ by Meena Alfons"})]})]})}function E({topNavChildren:e,bottomNavChildren:o,style:n={}}){const s=x();return t.jsxs("nav",{style:{...h.nav,background:s.colors.navBackground,...n},children:[e,t.jsx("div",{style:h.navSeparator}),o,t.jsx(Te,{}),t.jsx(Pe,{})]})}function Oe({children:e}){return t.jsx(He,{topNavChildren:t.jsx(t.Fragment,{children:t.jsx(b,{title:"Home",href:"/",Icon:xe})}),bottomNavChildren:t.jsx(t.Fragment,{children:t.jsx(b,{title:"Workspaces",href:"/workspaces",Icon:me})}),children:e})}const De=ue({reducer:{[I.reducerPath]:I.reducer},middleware:e=>e().concat(I.middleware)}),Ne=({children:e,LinkComponent:o})=>t.jsx(U.StrictMode,{children:t.jsx(pe,{value:o,children:t.jsx(fe,{children:t.jsx(he,{store:De,children:e})})})}),Ue={body:{padding:"0px",margin:"0px"}};function Qe({children:e}){const o=x(),n=O();return t.jsx("body",{suppressHydrationWarning:!0,style:{background:o.colors.background,color:o.colors.foreground,...o.font.style,...Ue.body,...n?{fontSize:"12pt"}:{fontSize:"12pt"}},children:e})}const We=()=>{let[e,o]=u.useState("");return u.useEffect(()=>{o(window.location.href)},[]),e},Ye=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"}],Ae=({href:e,children:o,...n})=>t.jsx(_,{to:e,...n,children:o});function qe({children:e}){return t.jsxs("html",{lang:"en",children:[t.jsxs("head",{children:[t.jsx("meta",{charSet:"utf-8"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),t.jsx(A,{}),t.jsx(F,{})]}),t.jsx(Ne,{LinkComponent:Ae,children:t.jsxs(Qe,{children:[e,t.jsx(G,{}),t.jsx(V,{})]})})]})}const Je=Q(function(){const o=We();return t.jsx(Ee,{currentHref:o,children:t.jsx(Oe,{children:t.jsx(Y,{})})})}),Ke=W(function({error:o}){let n="Oops!",s="An unexpected error occurred.",a;return q(o)&&(n=o.status===404?"404":"Error",s=o.status===404?"The requested page could not be found.":o.statusText||s),t.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[t.jsx("h1",{children:n}),t.jsx("p",{children:s}),a]})});export{Ke as ErrorBoundary,qe as Layout,Je as default,Ye as links};
