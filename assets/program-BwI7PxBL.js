import{a as p,o as s,w as Le}from"./chunk-QMGIS6GS-D-w4GL0C.js";import{u as w,B as ee,D as ze,T as ue,H as Re,A as Ae}from"./Table-D4Cd7HrO.js";import{p as H,q as $,s as N,t as I,v as D,w as k,x as E,y as _,z as Me,A as qe,C as He,D as $e,e as pe,j as Ne,E as De,F as Ee,G as We,H as Be,I as Ue}from"./Link-CqIjXgDl.js";import{O as Oe,F as Ve,S as Ge}from"./Select-C0tav2AO.js";import{i as Qe,a as le,F as _e,u as oe,f as se,I as Je}from"./Input-DUu1R3QO.js";import{A as Ke,S as Xe}from"./SessionsTable-BNVDpFUW.js";import{B as Ye}from"./Breadcrumbs-IXzULDUa.js";import{f as Ze,I as er,D as rr}from"./InviteUsersDialog-H0_1mYfT.js";import{S as Q,T as re}from"./Title-D3Od2Hrb.js";import{S as tr}from"./icons-DSfoUHeb.js";import{B as or}from"./BadgeActions-CnYAUb3K.js";import{L as sr}from"./Loading-DqWqUPUq.js";import"./index-OoWrCoTk.js";import"./IconButton-CifhT9Ms.js";function te(e,r){var t,o,a;return p.isValidElement(e)&&r.indexOf(e.type.muiName??((a=(o=(t=e.type)==null?void 0:t._payload)==null?void 0:o.value)==null?void 0:a.muiName))!==-1}function ar(e){return H("MuiFormControl",e)}$("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const nr=e=>{const{classes:r,margin:t,fullWidth:o}=e,a={root:["root",t!=="none"&&`margin${k(t)}`,o&&"fullWidth"]};return E(a,ar,r)},ir=I("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`margin${k(t.margin)}`],t.fullWidth&&r.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),lr=p.forwardRef(function(r,t){const o=N({props:r,name:"MuiFormControl"}),{children:a,className:n,color:i="primary",component:u="div",disabled:l=!1,error:m=!1,focused:d,fullWidth:g=!1,hiddenLabel:h=!1,margin:v="none",required:x=!1,size:f="medium",variant:c="outlined",...F}=o,T={...o,color:i,component:u,disabled:l,error:m,fullWidth:g,hiddenLabel:h,margin:v,required:x,size:f,variant:c},J=nr(T),[y,K]=p.useState(()=>{let S=!1;return a&&p.Children.forEach(a,b=>{if(!te(b,["Input","Select"]))return;const A=te(b,["Select"])?b.props.input:b;A&&Qe(A.props)&&(S=!0)}),S}),[W,L]=p.useState(()=>{let S=!1;return a&&p.Children.forEach(a,b=>{te(b,["Input","Select"])&&(le(b.props,!0)||le(b.props.inputProps,!0))&&(S=!0)}),S}),[B,z]=p.useState(!1);l&&B&&z(!1);const U=d!==void 0&&!l?d:B;let O;p.useRef(!1);const V=p.useCallback(()=>{L(!0)},[]),R=p.useCallback(()=>{L(!1)},[]),X=p.useMemo(()=>({adornedStart:y,setAdornedStart:K,color:i,disabled:l,error:m,filled:W,focused:U,fullWidth:g,hiddenLabel:h,size:f,onBlur:()=>{z(!1)},onFocus:()=>{z(!0)},onEmpty:R,onFilled:V,registerEffect:O,required:x,variant:c}),[y,i,l,m,W,U,g,h,O,R,V,x,f,c]);return s.jsx(_e.Provider,{value:X,children:s.jsx(ir,{as:u,ownerState:T,className:D(J.root,n),ref:t,...F,children:a})})});function dr(e){return H("MuiFormHelperText",e)}const de=$("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ce;const cr=e=>{const{classes:r,contained:t,size:o,disabled:a,error:n,filled:i,focused:u,required:l}=e,m={root:["root",a&&"disabled",n&&"error",o&&`size${k(o)}`,t&&"contained",u&&"focused",i&&"filled",l&&"required"]};return E(m,dr,r)},ur=I("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${k(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})(_(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${de.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${de.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:r})=>r.contained,style:{marginLeft:14,marginRight:14}}]}))),pr=p.forwardRef(function(r,t){const o=N({props:r,name:"MuiFormHelperText"}),{children:a,className:n,component:i="p",disabled:u,error:l,filled:m,focused:d,margin:g,required:h,variant:v,...x}=o,f=oe(),c=se({props:o,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),F={...o,component:i,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required};delete F.ownerState;const T=cr(F);return s.jsx(ur,{as:i,className:D(T.root,n),ref:t,...x,ownerState:F,children:a===" "?ce||(ce=s.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function mr(e){return H("MuiFormLabel",e)}const q=$("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),fr=e=>{const{classes:r,color:t,focused:o,disabled:a,error:n,filled:i,required:u}=e,l={root:["root",`color${k(t)}`,a&&"disabled",n&&"error",i&&"filled",o&&"focused",u&&"required"],asterisk:["asterisk",n&&"error"]};return E(l,mr,r)},xr=I("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled]}})(_(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Me()).map(([r])=>({props:{color:r},style:{[`&.${q.focused}`]:{color:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${q.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),gr=I("span",{name:"MuiFormLabel",slot:"Asterisk"})(_(({theme:e})=>({[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}))),hr=p.forwardRef(function(r,t){const o=N({props:r,name:"MuiFormLabel"}),{children:a,className:n,color:i,component:u="label",disabled:l,error:m,filled:d,focused:g,required:h,...v}=o,x=oe(),f=se({props:o,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),c={...o,color:f.color||"primary",component:u,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required},F=fr(c);return s.jsxs(xr,{as:u,ownerState:c,className:D(F.root,n),ref:t,...v,children:[a,f.required&&s.jsxs(gr,{ownerState:c,"aria-hidden":!0,className:F.asterisk,children:[" ","*"]})]})});function br(e){return H("MuiInputLabel",e)}$("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const vr=e=>{const{classes:r,formControl:t,size:o,shrink:a,disableAnimation:n,variant:i,required:u}=e,l={root:["root",t&&"formControl",!n&&"animated",a&&"shrink",o&&o!=="medium"&&`size${k(o)}`,i],asterisk:[u&&"asterisk"]},m=E(l,br,r);return{...r,...m}},Fr=I(hr,{shouldForwardProp:e=>qe(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${q.asterisk}`]:r.asterisk},r.root,t.formControl&&r.formControl,t.size==="small"&&r.sizeSmall,t.shrink&&r.shrink,!t.disableAnimation&&r.animated,t.focused&&r.focused,r[t.variant]]}})(_(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:r})=>r.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:r})=>r.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:r})=>!r.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:r,ownerState:t})=>r==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:r,ownerState:t,size:o})=>r==="filled"&&t.shrink&&o==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:r,ownerState:t})=>r==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Sr=p.forwardRef(function(r,t){const o=N({name:"MuiInputLabel",props:r}),{disableAnimation:a=!1,margin:n,shrink:i,variant:u,className:l,...m}=o,d=oe();let g=i;typeof g>"u"&&d&&(g=d.filled||d.focused||d.adornedStart);const h=se({props:o,muiFormControl:d,states:["size","variant","required","focused"]}),v={...o,disableAnimation:a,formControl:d,shrink:g,size:h.size,variant:h.variant,required:h.required,focused:h.focused},x=vr(v);return s.jsx(Fr,{"data-shrink":g,ref:t,className:D(x.root,l),...m,ownerState:v,classes:x})});function yr(e){return H("MuiTextField",e)}$("MuiTextField",["root"]);const Cr={standard:Je,filled:Ve,outlined:Oe},jr=e=>{const{classes:r}=e;return E({root:["root"]},yr,r)},Pr=I(lr,{name:"MuiTextField",slot:"Root"})({}),Tr=p.forwardRef(function(r,t){const o=N({props:r,name:"MuiTextField"}),{autoComplete:a,autoFocus:n=!1,children:i,className:u,color:l="primary",defaultValue:m,disabled:d=!1,error:g=!1,FormHelperTextProps:h,fullWidth:v=!1,helperText:x,id:f,InputLabelProps:c,inputProps:F,InputProps:T,inputRef:J,label:y,maxRows:K,minRows:W,multiline:L=!1,name:B,onBlur:z,onChange:U,onFocus:O,placeholder:V,required:R=!1,rows:X,select:S=!1,SelectProps:b,slots:A={},slotProps:me={},type:fe,value:ae,variant:G="outlined",...xe}=o,C={...o,autoFocus:n,color:l,disabled:d,error:g,fullWidth:v,multiline:L,required:R,select:S,variant:G},ge=jr(C),j=He(f),Y=x&&j?`${j}-helper-text`:void 0,ne=y&&j?`${j}-label`:void 0,he=Cr[G],P={slots:A,slotProps:{input:T,inputLabel:c,htmlInput:F,formHelperText:h,select:b,...me}},M={},Z=P.slotProps.inputLabel;G==="outlined"&&(Z&&typeof Z.shrink<"u"&&(M.notched=Z.shrink),M.label=y),S&&((!b||!b.native)&&(M.id=void 0),M["aria-describedby"]=void 0);const[be,ve]=w("root",{elementType:Pr,shouldForwardComponentProp:!0,externalForwardedProps:{...P,...xe},ownerState:C,className:D(ge.root,u),ref:t,additionalProps:{disabled:d,error:g,fullWidth:v,required:R,color:l,variant:G}}),[Fe,Se]=w("input",{elementType:he,externalForwardedProps:P,additionalProps:M,ownerState:C}),[ye,Ce]=w("inputLabel",{elementType:Sr,externalForwardedProps:P,ownerState:C}),[je,Pe]=w("htmlInput",{elementType:"input",externalForwardedProps:P,ownerState:C}),[Te,we]=w("formHelperText",{elementType:pr,externalForwardedProps:P,ownerState:C}),[Ie,ke]=w("select",{elementType:Ge,externalForwardedProps:P,ownerState:C}),ie=s.jsx(Fe,{"aria-describedby":Y,autoComplete:a,autoFocus:n,defaultValue:m,fullWidth:v,multiline:L,name:B,rows:X,maxRows:K,minRows:W,type:fe,value:ae,id:j,inputRef:J,onBlur:z,onChange:U,onFocus:O,placeholder:V,inputProps:Pe,slots:{input:A.htmlInput?je:void 0},...Se});return s.jsxs(be,{...ve,children:[y!=null&&y!==""&&s.jsx(ye,{htmlFor:j,id:ne,...Ce,children:y}),S?s.jsx(Ie,{"aria-describedby":Y,id:j,labelId:ne,value:ae,input:ie,...ke,children:i}):ie,x&&s.jsx(Te,{id:Y,...we,children:x})]})});function wr({program:e}){const[r,{}]=$e(),[t,o]=p.useState(!1),[a,n]=p.useState(""),i=async()=>{if(a.length!==0)try{await r({programId:e.id,emails:[a]}).unwrap()}catch(d){console.error("Failed to add facilitator to program:",d)}},u=async()=>{await i(),o(!1)},l=async()=>{o(!1)},m=async()=>{o(!0)};return s.jsxs(s.Fragment,{children:[s.jsx(ee,{onClick:m,children:"Add Facilitators"}),s.jsx(ze,{open:t,setOpen:o,title:"Add Facilitators To Program",renderActions:()=>s.jsxs(s.Fragment,{children:[s.jsx(ee,{onClick:u,children:"Save"}),s.jsx(ee,{onClick:l,children:"Close"})]}),children:s.jsx(Tr,{placeholder:"Enter email",onInput:d=>{console.log("onInput",d.target.value),n(d.target.value.trim())}})})]})}function Ir({facilitators:e}){const r=pe();return e.length==0?s.jsx(Q,{children:s.jsxs("div",{style:{color:r.colors.hint,textAlign:"center"},children:[s.jsx("div",{children:"No Facilitators"}),s.jsx("div",{children:"Start by adding facilitators."})]})}):s.jsx(Q,{children:s.jsx(ue,{data:e,fields:["user"],getId:t=>t.id,renderHeader:t=>{switch(t){case"user":return"Facilitator";default:return""}},renderCell:(t,o)=>{switch(o){case"user":return s.jsx("div",{children:t.email});default:return t[o]}}})})}function kr({inviteeInsights:e,invitees:r}){Ne();const t=pe();return e.length==0?s.jsx(Q,{children:s.jsxs("div",{style:{color:t.colors.hint,textAlign:"center"},children:[s.jsx("div",{children:"No Invitees"}),s.jsx("div",{children:"Start by inviting users."})]})}):(console.log(r),s.jsx(Q,{children:s.jsx(ue,{data:e,fields:["user","badgeSignedValue","numSessions","duration"],getId:o=>o.user.id,renderHeader:o=>{switch(o){case"user":return"Invitee";case"badgeSignedValue":return"Badge";case"numSessions":return"Sessions";case"duration":return"Duration";default:return""}},renderCell:(o,a)=>{const n=r.find(i=>i.user.id===o.user.id);switch(a){case"user":return s.jsx("div",{children:o.user.name||o.user.email});case"badgeSignedValue":return n?s.jsx(or,{id:n.badge.id,signedValue:n.badge.signedValue}):void 0;case"numSessions":return o.numSessions;case"duration":return Ze((o.totalDurationSeconds??0)*1e3);default:return o[a]}}})}))}function Lr({programId:e}){const{data:r=null}=De({programId:e,includeWorkspace:!0}),{data:t=[]}=Ee(e),{data:o=[]}=We(e),{data:a=[]}=Be(e),{data:{inviteeInsights:n=[]}={}}=Ue(e);return r==null?s.jsx(sr,{}):s.jsxs(s.Fragment,{children:[s.jsx(Re,{children:s.jsx(Ye,{workspace:r.workspace,program:r.program})}),s.jsxs(Ae,{children:[s.jsx(Ke,{predefinedProgram:r.program}),s.jsx(er,{program:r.program}),s.jsx(rr,{invitees:o}),s.jsx(wr,{program:r.program})]}),s.jsxs(re,{children:[s.jsx(tr,{}),"Sessions"]}),s.jsx(Xe,{sessions:t,programs:[r.program],workspaces:r.workspace?[r.workspace]:[]}),s.jsx(re,{children:"Invitees"}),s.jsx(kr,{inviteeInsights:n,invitees:o}),s.jsx(re,{children:"Facilitators"}),s.jsx(Ir,{facilitators:a})]})}const Vr=Le(function({params:r}){return s.jsx(Lr,{programId:r.programId})});export{Vr as default};
