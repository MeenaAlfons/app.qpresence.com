import{a as p,o,w as Le}from"./chunk-QMGIS6GS-D-w4GL0C.js";import{u as w,B as ee,D as ze,T as ue,H as Re,A as Ae}from"./Table-BnIuKFvj.js";import{p as H,q as D,s as $,t as I,v as N,w as k,x as E,y as _,z as Me,A as qe,C as He,D as De,e as pe,j as $e,E as Ne,F as Ee,G as We,H as Ue,I as Be}from"./Link-BtxS3F1D.js";import{O as Oe,F as Qe,S as Ve}from"./Select-fhDA4Kuw.js";import{i as Ge,a as le,F as _e,u as oe,f as se,I as Je}from"./Input-BWAQQAEU.js";import{A as Ke,S as Xe}from"./SessionsTable-Cpf50kjs.js";import{B as Ye}from"./Breadcrumbs-DicO7JIq.js";import{f as Ze,I as er,D as rr}from"./InviteUsersDialog-Da2dSMVF.js";import{S as G,T as re}from"./Title-Zen3SAoM.js";import{S as tr}from"./icons-CmnslTl-.js";import{D as or}from"./DownloadableQrCode-DWiRaj4M.js";import{L as sr}from"./Loading-DqWqUPUq.js";import"./index-OoWrCoTk.js";import"./IconButton-DKj9PuDg.js";function te(e,r){var t,s,a;return p.isValidElement(e)&&r.indexOf(e.type.muiName??((a=(s=(t=e.type)==null?void 0:t._payload)==null?void 0:s.value)==null?void 0:a.muiName))!==-1}function ar(e){return H("MuiFormControl",e)}D("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const nr=e=>{const{classes:r,margin:t,fullWidth:s}=e,a={root:["root",t!=="none"&&`margin${k(t)}`,s&&"fullWidth"]};return E(a,ar,r)},ir=I("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`margin${k(t.margin)}`],t.fullWidth&&r.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),lr=p.forwardRef(function(r,t){const s=$({props:r,name:"MuiFormControl"}),{children:a,className:n,color:i="primary",component:d="div",disabled:l=!1,error:m=!1,focused:c,fullWidth:g=!1,hiddenLabel:h=!1,margin:v="none",required:x=!1,size:f="medium",variant:u="outlined",...F}=s,T={...s,color:i,component:d,disabled:l,error:m,fullWidth:g,hiddenLabel:h,margin:v,required:x,size:f,variant:u},J=nr(T),[y,K]=p.useState(()=>{let S=!1;return a&&p.Children.forEach(a,b=>{if(!te(b,["Input","Select"]))return;const A=te(b,["Select"])?b.props.input:b;A&&Ge(A.props)&&(S=!0)}),S}),[W,L]=p.useState(()=>{let S=!1;return a&&p.Children.forEach(a,b=>{te(b,["Input","Select"])&&(le(b.props,!0)||le(b.props.inputProps,!0))&&(S=!0)}),S}),[U,z]=p.useState(!1);l&&U&&z(!1);const B=c!==void 0&&!l?c:U;let O;p.useRef(!1);const Q=p.useCallback(()=>{L(!0)},[]),R=p.useCallback(()=>{L(!1)},[]),X=p.useMemo(()=>({adornedStart:y,setAdornedStart:K,color:i,disabled:l,error:m,filled:W,focused:B,fullWidth:g,hiddenLabel:h,size:f,onBlur:()=>{z(!1)},onFocus:()=>{z(!0)},onEmpty:R,onFilled:Q,registerEffect:O,required:x,variant:u}),[y,i,l,m,W,B,g,h,O,R,Q,x,f,u]);return o.jsx(_e.Provider,{value:X,children:o.jsx(ir,{as:d,ownerState:T,className:N(J.root,n),ref:t,...F,children:a})})});function dr(e){return H("MuiFormHelperText",e)}const de=D("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ce;const cr=e=>{const{classes:r,contained:t,size:s,disabled:a,error:n,filled:i,focused:d,required:l}=e,m={root:["root",a&&"disabled",n&&"error",s&&`size${k(s)}`,t&&"contained",d&&"focused",i&&"filled",l&&"required"]};return E(m,dr,r)},ur=I("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${k(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})(_(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${de.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${de.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:r})=>r.contained,style:{marginLeft:14,marginRight:14}}]}))),pr=p.forwardRef(function(r,t){const s=$({props:r,name:"MuiFormHelperText"}),{children:a,className:n,component:i="p",disabled:d,error:l,filled:m,focused:c,margin:g,required:h,variant:v,...x}=s,f=oe(),u=se({props:s,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),F={...s,component:i,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required};delete F.ownerState;const T=cr(F);return o.jsx(ur,{as:i,className:N(T.root,n),ref:t,...x,ownerState:F,children:a===" "?ce||(ce=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function mr(e){return H("MuiFormLabel",e)}const q=D("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),fr=e=>{const{classes:r,color:t,focused:s,disabled:a,error:n,filled:i,required:d}=e,l={root:["root",`color${k(t)}`,a&&"disabled",n&&"error",i&&"filled",s&&"focused",d&&"required"],asterisk:["asterisk",n&&"error"]};return E(l,mr,r)},xr=I("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled]}})(_(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Me()).map(([r])=>({props:{color:r},style:{[`&.${q.focused}`]:{color:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${q.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),gr=I("span",{name:"MuiFormLabel",slot:"Asterisk"})(_(({theme:e})=>({[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}))),hr=p.forwardRef(function(r,t){const s=$({props:r,name:"MuiFormLabel"}),{children:a,className:n,color:i,component:d="label",disabled:l,error:m,filled:c,focused:g,required:h,...v}=s,x=oe(),f=se({props:s,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),u={...s,color:f.color||"primary",component:d,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required},F=fr(u);return o.jsxs(xr,{as:d,ownerState:u,className:N(F.root,n),ref:t,...v,children:[a,f.required&&o.jsxs(gr,{ownerState:u,"aria-hidden":!0,className:F.asterisk,children:[" ","*"]})]})});function br(e){return H("MuiInputLabel",e)}D("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const vr=e=>{const{classes:r,formControl:t,size:s,shrink:a,disableAnimation:n,variant:i,required:d}=e,l={root:["root",t&&"formControl",!n&&"animated",a&&"shrink",s&&s!=="medium"&&`size${k(s)}`,i],asterisk:[d&&"asterisk"]},m=E(l,br,r);return{...r,...m}},Fr=I(hr,{shouldForwardProp:e=>qe(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${q.asterisk}`]:r.asterisk},r.root,t.formControl&&r.formControl,t.size==="small"&&r.sizeSmall,t.shrink&&r.shrink,!t.disableAnimation&&r.animated,t.focused&&r.focused,r[t.variant]]}})(_(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:r})=>r.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:r})=>r.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:r})=>!r.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:r,ownerState:t})=>r==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:r,ownerState:t,size:s})=>r==="filled"&&t.shrink&&s==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:r,ownerState:t})=>r==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Sr=p.forwardRef(function(r,t){const s=$({name:"MuiInputLabel",props:r}),{disableAnimation:a=!1,margin:n,shrink:i,variant:d,className:l,...m}=s,c=oe();let g=i;typeof g>"u"&&c&&(g=c.filled||c.focused||c.adornedStart);const h=se({props:s,muiFormControl:c,states:["size","variant","required","focused"]}),v={...s,disableAnimation:a,formControl:c,shrink:g,size:h.size,variant:h.variant,required:h.required,focused:h.focused},x=vr(v);return o.jsx(Fr,{"data-shrink":g,ref:t,className:N(x.root,l),...m,ownerState:v,classes:x})});function yr(e){return H("MuiTextField",e)}D("MuiTextField",["root"]);const Cr={standard:Je,filled:Qe,outlined:Oe},jr=e=>{const{classes:r}=e;return E({root:["root"]},yr,r)},Pr=I(lr,{name:"MuiTextField",slot:"Root"})({}),Tr=p.forwardRef(function(r,t){const s=$({props:r,name:"MuiTextField"}),{autoComplete:a,autoFocus:n=!1,children:i,className:d,color:l="primary",defaultValue:m,disabled:c=!1,error:g=!1,FormHelperTextProps:h,fullWidth:v=!1,helperText:x,id:f,InputLabelProps:u,inputProps:F,InputProps:T,inputRef:J,label:y,maxRows:K,minRows:W,multiline:L=!1,name:U,onBlur:z,onChange:B,onFocus:O,placeholder:Q,required:R=!1,rows:X,select:S=!1,SelectProps:b,slots:A={},slotProps:me={},type:fe,value:ae,variant:V="outlined",...xe}=s,C={...s,autoFocus:n,color:l,disabled:c,error:g,fullWidth:v,multiline:L,required:R,select:S,variant:V},ge=jr(C),j=He(f),Y=x&&j?`${j}-helper-text`:void 0,ne=y&&j?`${j}-label`:void 0,he=Cr[V],P={slots:A,slotProps:{input:T,inputLabel:u,htmlInput:F,formHelperText:h,select:b,...me}},M={},Z=P.slotProps.inputLabel;V==="outlined"&&(Z&&typeof Z.shrink<"u"&&(M.notched=Z.shrink),M.label=y),S&&((!b||!b.native)&&(M.id=void 0),M["aria-describedby"]=void 0);const[be,ve]=w("root",{elementType:Pr,shouldForwardComponentProp:!0,externalForwardedProps:{...P,...xe},ownerState:C,className:N(ge.root,d),ref:t,additionalProps:{disabled:c,error:g,fullWidth:v,required:R,color:l,variant:V}}),[Fe,Se]=w("input",{elementType:he,externalForwardedProps:P,additionalProps:M,ownerState:C}),[ye,Ce]=w("inputLabel",{elementType:Sr,externalForwardedProps:P,ownerState:C}),[je,Pe]=w("htmlInput",{elementType:"input",externalForwardedProps:P,ownerState:C}),[Te,we]=w("formHelperText",{elementType:pr,externalForwardedProps:P,ownerState:C}),[Ie,ke]=w("select",{elementType:Ve,externalForwardedProps:P,ownerState:C}),ie=o.jsx(Fe,{"aria-describedby":Y,autoComplete:a,autoFocus:n,defaultValue:m,fullWidth:v,multiline:L,name:U,rows:X,maxRows:K,minRows:W,type:fe,value:ae,id:j,inputRef:J,onBlur:z,onChange:B,onFocus:O,placeholder:Q,inputProps:Pe,slots:{input:A.htmlInput?je:void 0},...Se});return o.jsxs(be,{...ve,children:[y!=null&&y!==""&&o.jsx(ye,{htmlFor:j,id:ne,...Ce,children:y}),S?o.jsx(Ie,{"aria-describedby":Y,id:j,labelId:ne,value:ae,input:ie,...ke,children:i}):ie,x&&o.jsx(Te,{id:Y,...we,children:x})]})});function wr({program:e}){const[r,{}]=De(),[t,s]=p.useState(!1),[a,n]=p.useState(""),i=async()=>{if(a.length!==0)try{await r({programId:e.id,emails:[a]}).unwrap()}catch(c){console.error("Failed to add facilitator to program:",c)}},d=async()=>{await i(),s(!1)},l=async()=>{s(!1)},m=async()=>{s(!0)};return o.jsxs(o.Fragment,{children:[o.jsx(ee,{onClick:m,children:"Add Facilitators"}),o.jsx(ze,{open:t,setOpen:s,title:"Add Facilitators To Program",renderActions:()=>o.jsxs(o.Fragment,{children:[o.jsx(ee,{onClick:d,children:"Save"}),o.jsx(ee,{onClick:l,children:"Close"})]}),children:o.jsx(Tr,{placeholder:"Enter email",onInput:c=>{console.log("onInput",c.target.value),n(c.target.value.trim())}})})]})}function Ir({facilitators:e}){const r=pe();return e.length==0?o.jsx(G,{children:o.jsxs("div",{style:{color:r.colors.hint,textAlign:"center"},children:[o.jsx("div",{children:"No Facilitators"}),o.jsx("div",{children:"Start by adding facilitators."})]})}):o.jsx(G,{children:o.jsx(ue,{data:e,fields:["user"],getId:t=>t.id,renderHeader:t=>{switch(t){case"user":return"Facilitator";default:return""}},renderCell:(t,s)=>{switch(s){case"user":return o.jsx("div",{children:t.email});default:return t[s]}}})})}function kr({inviteeInsights:e,invitees:r}){const t=$e(),s=pe();return e.length==0?o.jsx(G,{children:o.jsxs("div",{style:{color:s.colors.hint,textAlign:"center"},children:[o.jsx("div",{children:"No Invitees"}),o.jsx("div",{children:"Start by inviting users."})]})}):o.jsx(G,{children:o.jsx(ue,{data:e,fields:["user","badgeSignedValue","numSessions","duration"],getId:a=>a.user.id,renderHeader:a=>{switch(a){case"user":return"Invitee";case"badgeSignedValue":return"Badge";case"numSessions":return"Sessions";case"duration":return"Duration";default:return""}},renderCell:(a,n)=>{const i=r.find(d=>d.user.id===a.user.id);switch(n){case"user":return o.jsx("div",{children:a.user.email});case"badgeSignedValue":return i?o.jsx(or,{id:i.badge.id,value:t(i.badge.signedValue),displaySize:32}):void 0;case"numSessions":return a.numSessions;case"duration":return Ze((a.totalDurationSeconds??0)*1e3);default:return a[n]}}})})}function Lr({programId:e}){const{data:r=null}=Ne({programId:e,includeWorkspace:!0}),{data:t=[]}=Ee(e),{data:s=[]}=We(e),{data:a=[]}=Ue(e),{data:{inviteeInsights:n=[]}={}}=Be(e);return r==null?o.jsx(sr,{}):o.jsxs(o.Fragment,{children:[o.jsx(Re,{children:o.jsx(Ye,{workspace:r.workspace,program:r.program})}),o.jsxs(Ae,{children:[o.jsx(Ke,{predefinedProgram:r.program}),o.jsx(er,{program:r.program}),o.jsx(rr,{invitees:s}),o.jsx(wr,{program:r.program})]}),o.jsxs(re,{children:[o.jsx(tr,{}),"Sessions"]}),o.jsx(Xe,{sessions:t,programs:[r.program],workspaces:r.workspace?[r.workspace]:[]}),o.jsx(re,{children:"Invitees"}),o.jsx(kr,{inviteeInsights:n,invitees:s}),o.jsx(re,{children:"Facilitators"}),o.jsx(Ir,{facilitators:a})]})}const Qr=Le(function({params:r}){return o.jsx(Lr,{programId:r.programId})});export{Qr as default};
