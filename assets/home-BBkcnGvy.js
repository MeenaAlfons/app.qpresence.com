import{a as c,o as e,w}from"./chunk-QMGIS6GS-DqORk8pi.js";import{u as S,g as T,h as v}from"./link-DrGoElNK.js";import{T as b,B as C,L as D}from"./Table-CYT6pBH9.js";import{S as z}from"./ScanDialog-B7XshzT_.js";import{L as m}from"./List-D1ON5E6J.js";import{L as f}from"./ListItem-DmsxBloh.js";import"./index-DiSreKSV.js";const s={container:{width:"100%",display:"flex",flexDirection:"column",paddingTop:"20px"},sessions:{paddingTop:"20px",paddingLeft:"10px",paddingRight:"10px"},list:{padding:"0px",width:"100%"},item:{display:"flex",flexDirection:"row",alignItems:"stretch",paddingLeft:"0px",paddingBottom:"0px",paddingRight:"0px",paddingTop:"10px"},workspaceItem:{paddingTop:"20px"},sideFrame:{marginTop:"0.5rem",marginRight:"5px",width:"10px",borderColor:"black",borderStyle:"solid",borderLeftWidth:"1px",borderTopWidth:"1px"},itemContent:{display:"flex",flexDirection:"column",flexGrow:1},actionbar:{display:"flex",flexDirection:"row",justifyContent:"end",gap:"5px"},day:{textAlign:"right"}};function R({sessions:n,programs:i,workspaces:r}){const t=S();T();const[p,u]=c.useState([]),[h,x]=c.useState(!1),[g,y]=c.useState({}),j=a=>{y(a),x(!0)};return c.useEffect(()=>{let a=r.map(d=>({...d,programs:i.filter(o=>o.workspaceId==d.id).map(o=>({...o,sessions:n.filter(l=>l.programId==o.id)}))}));u(a)},[n,i,r]),console.log("sessions",n),console.log("programs",i),console.log("workspaces",r),console.log("data",p),e.jsxs("div",{style:s.container,children:[e.jsx("div",{style:{color:t.colors3.text1,fontSize:t.font.sizes.normal},children:"Recent Sessions"}),e.jsx("div",{style:{color:t.colors3.text2,fontSize:t.font.sizes.lower2},children:"Yesterday, Today, and Tomorrow"}),e.jsxs("section",{style:s.sessions,children:[e.jsx(m,{sx:s.list,children:p.map(a=>e.jsxs(f,{style:{...s.item,...s.workspaceItem},children:[e.jsx("div",{style:{...s.sideFrame,borderColor:t.colors3.divider}}),e.jsxs("div",{style:s.itemContent,children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:t.font.sizes.lower2},children:a.name}),e.jsx(m,{sx:s.list,children:a.programs.map(d=>e.jsxs(f,{style:s.item,children:[e.jsx("div",{style:{...s.sideFrame,borderColor:t.colors3.divider}}),e.jsxs("div",{style:s.itemContent,children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:t.font.sizes.lower2},children:d.name}),e.jsx(b,{data:d.sessions,fields:["session","day","scan"],getId:o=>o.id,sxCell:(o,l)=>{switch(l){case"scan":return{width:"30%"}}return{}},renderCell:(o,l)=>{switch(l){case"session":return e.jsx("div",{style:{...s.program,color:t.colors3.text1,textDecorationColor:t.colors3.text1,textUnderlineOffset:t.font.sizes.textUnderlineOffset,fontSize:t.font.sizes.normal},children:o.name});case"day":return e.jsx("div",{style:s.day,children:L(new Date(o.happensAt))});case"scan":return e.jsx("div",{style:s.actionbar,children:e.jsx(C,{onClick:()=>j(o),children:"Scan"})})}}})]})]},d.id))})]})]},a.id))}),e.jsx(z,{open:h,setOpen:x,session:g})]})]})}function L(n){const i=Date.now(),r=i-24*60*60*1e3/2,t=i+24*60*60*1e3/2;return n.getTime()<r?"Yesterday":n.getTime()<t?"Today":"Tomorrow"}function I(){const{data:{sessions:n=[],programs:i=[],workspaces:r=[]}={}}=v();return e.jsx(D,{currentPage:"home",children:e.jsx(R,{sessions:n,programs:i,workspaces:r})})}function U({}){return[{title:"New React Router App"},{name:"description",content:"Welcome to React Router!"}]}const k=w(function(){return e.jsx(I,{})});export{k as default,U as meta};
